meta-kanto
===================

This layer provides support for building the necessary Eclipse Kanto
components for enabling an out-of-the-box Eclipse Hono
connected edge solutions.

The layer depends on the meta-virtualization one. If the edge containerization
(i.e. Eclipse Kanto containers) is to be included in your target Yocto image,
you need to enable the required by this layer virtualization.
To do that, add in the configuration file the following line:

    DISTRO_FEATURES:append = " virtualization"

For further fine-tuning and options see the meta-virtualization README.

Dependencies
============

  Required for enabling the cloud connectivity and virtualization.
  Could be used as a single dependency if only suite connector
  is needed to be built.
  URI: git://github.com/openembedded/meta-openembedded.git
    layers: meta-oe
            meta-networking
            meta-filesystems
            meta-python

  Required for enabling edge containerization
  URI: git://git.yoctoproject.org/meta-virtualization

Table of Contents
=================

  I. Adding the meta-kanto layer to your build
  II. Required image configurations
  III. Example image configuration

I. Adding the meta-kanto layer to your build

Run 'bitbake-layers add-layer meta-kanto'

II. Required image configurations

The following configurations are required so that the included recipes from
the meta-kanto layer are properly installed and enabled:

    1. Configure the system initialization manager to systemd
    https://www.yoctoproject.org/docs/3.1/dev-manual/dev-manual.html#using-systemd-exclusively


    2. Since kernel configurations are required,
    you need to set the MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS variable to include kernel modules.
    To do that, add in the configuration file the following line:

    MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "kernel-modules"

III. Example image configuration

# Add the required DISTRO_FEATURES
DISTRO_FEATURES:append = " virtualization systemd"

# Configure the kernel modules required to be included
MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "kernel-modules"

# System initialization manager setup
VIRTUAL-RUNTIME_init_manager = "systemd"
DISTRO_FEATURES_BACKFILL_CONSIDERED = "sysvinit"
VIRTUAL-RUNTIME_initscripts = "systemd-compat-units"

# Add the Eclipse Kanto components
IMAGE_INSTALL:append = " suite-connector edgecontainerd"
